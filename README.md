### Конвертер 1С XML

Конвертер предназначен для преобразования XML-дампа 1С в файл CSV.

Пример XML-дампа в файле sample_input.xml

Пример выходного CSV-файла в файле output/sample_output.csv

#### Во второй версии программы добавлено несколько новых свойств

Так, осуществляется поиск и замена в текстовых столбцах CSV-файла.

Шаблоны для поиска и замены хранятся в файле config/replace.json

Для создания нового шаблона замены следует добавить в файл строку следующего содержания:

{"pattern":"Проект","replacement":"Слон","columns":"6,7,8"}

Это означает, что в столбцах 6, 7 и 8 слово 'Проект' везде будет заменено словом 'Слон'.

Поиск и замена осуществляется только в текстовых столбцах (в текущем CSV-формате это столбцы 2,4,6,7,8).

Если категории товаров имеют родительские категории, то такие категории, в порядке наследования будут отображаться в столбцах 7 и 8.

Все относящиеся к товару изображения, кроме основного (первого) будут помещены в HTML-шаблон и присоединены к описанию товара.

Шаблон для изображений находится в файле templates/images.html

Конструкция {%FOREACH_IMAGE%} ... {%ENDFOREACH%} повторяет HTML-код, заключённый между этими двумя тегами для каждого изображения.

Теги {%IMAGE_URL%} внутри этой конструкции будут заменены ссылками на изображения. Теги {%IMAGE_URL%} вне конструкции {%FOREACH_IMAGE%} ... {%ENDFOREACH%} заменены не будут.

Код внутри конструкции {%FOREACH_IMAGE%} ... {%ENDFOREACH%} может быть оформлен, например, как строка таблицы.
